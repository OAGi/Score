<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui" template="../../template.xhtml">

    <ui:define name="content">
        <p:messages id="messages" showIcon="false" showDetail="true" showSummary="false" autoUpdate="true"
                    closable="true"/>

        <h:form id="sign_up_form">
            <p:panel header="Create your personal account">
                <h:panelGrid columns="1" styleClass="boxed-group-inner">
                    <label for="username">Username</label>
                    <p:password id="username" name="username"
                                value="#{signUpBean.username}" required="true"
                                styleClass="form-control" requiredMessage="Please fill out 'Username' field."/>

                    <label for="user_password">Password</label>
                    <p:password id="user_password" name="user[password]"
                                value="#{signUpBean.password}" required="true" styleClass="form-control"
                                requiredMessage="Please fill out 'Password' field."
                                validatorMessage="Password is too short (minimum is 5 characters)">
                        <f:validateLength minimum="5"/>
                    </p:password>

                    <label for="user_confirm_password">Confirm password</label>
                    <p:password id="user_confirm_password" name="user[password_confirmation]"
                                value="#{signUpBean.confirmPassword}" required="true"
                                styleClass="form-control"
                                requiredMessage="Please fill out 'Confirm password' field."/>

                    <p:commandButton value="Create an account" id="create_account"
                                     action="/login.xhtml?faces-redirect=true"
                                     actionListener="#{signUpBean.signUp}"
                                     update="sign_up_form"/>
                </h:panelGrid>
            </p:panel>
            <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
        </h:form>
    </ui:define>
</ui:composition>
