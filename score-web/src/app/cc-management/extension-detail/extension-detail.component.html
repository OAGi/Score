<mat-sidenav-container class="example-container" [hasBackdrop]="false">
  <mat-sidenav #sidenav [mode]="'over'" position="end" class="pd-15">
    <div class="ui header d-flex align-items-center justify-content-between">
      <h4 class="dividing">Comment</h4>
      <div class="close">
        <button mat-icon-button (click)="commentControl.closeCommentSlide()">
          <mat-icon>close</mat-icon>
        </button>
      </div>
    </div>
    <div class="ui feed">
      <div class="event" *ngFor="let comment of commentControl.comments" [class.new-message]="comment.isNew">
        <div class="content" [class]="comment.prevCommentId ? 'pl-4' : ''">
          <div class="summary">
            <a>{{ comment.loginId }}</a>
            <div class="date">{{ comment.timestamp | dateAgo }}</div>
            <mat-icon class="pointer icon"
                      *ngIf="comment.loginId === currentUser && !comment.hidden"
                      [inline]="true"
                      (click)="commentControl.deleteComment(comment)">close</mat-icon>
          </div>
          <div class="extra text">
            <div *ngIf="!comment.isEditing">
              <span *ngIf="!comment.hidden">{{ comment.text }}</span>
              <span *ngIf="comment.hidden" class="text-muted">(This message has been deleted.)</span>
              <mat-icon class="pointer icon mt-1"
                        *ngIf="comment.loginId === currentUser && !comment.hidden"
                        [inline]="true"
                        (click)="commentControl.openEditComment(comment)">edit</mat-icon>
            </div>
            <div *ngIf="comment.isEditing">
              <mat-form-field>
                <textarea matInput rows="3" [(ngModel)]="comment.textTemp"></textarea>
              </mat-form-field>
              <button mat-stroked-button (click)="commentControl.editComment(comment)">Edit</button>&nbsp;
              <button mat-stroked-button (click)="commentControl.cancelEditComment(comment)">Cancel</button>
            </div>
          </div>
          <div class="meta" *ngIf="comment.prevCommentId === null && commentControl.replyCommentId !== comment.commentId">
            <a class="like" (click)="commentControl.openReply(comment)">Reply</a>
          </div>
          <div class="reply-box" *ngIf="commentControl.replyCommentId === comment.commentId">
            <mat-form-field>
              <textarea matInput rows="3" [(ngModel)]="commentControl.replyMessage"></textarea>
            </mat-form-field>
            <button mat-stroked-button (click)="commentControl.addComment(comment)">Reply</button>&nbsp;
            <button mat-stroked-button (click)="commentControl.closeReply()">Cancel</button>
          </div>
        </div>
      </div>
      <div *ngIf="commentControl.replyOpened === false">
        <mat-form-field>
          <textarea matInput rows="3" [(ngModel)]="commentControl.commentMessage"></textarea>
        </mat-form-field>
        <button mat-stroked-button (click)="commentControl.addComment()">
          Comment
        </button>
      </div>
    </div>
  </mat-sidenav>

  <mat-sidenav-content (click)="sidenav.close();">
    <div class="cdk-overlay-backdrop cdk-overlay-dark-backdrop cdk-overlay-backdrop-showing" *ngIf="isUpdating">
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </div>
    <div class="context-section">
      <div class="row m-0">
        <div class="col-12 p-0">
          <mat-card class="search-box-container mb-1">
            <mat-card-content>
              <div class="container-fluid" *ngIf="searcher && dataSource">
                <div class="row">
                  <div class="col-5 tree-search-box">
                    <div class="row align-items-center">
                      <div class="col-9">
                        <mat-form-field>
                          <mat-label *ngIf="!selectedNode">Search</mat-label>
                          <mat-label *ngIf="selectedNode">Search > {{selectedNode.name}}</mat-label>
                          <input matInput type="search" [(ngModel)]="searcher.inputKeyword"
                                 [disabled]="searcher.isSearching"
                                 (keyup.enter)="search(searcher.inputKeyword)">
                          <mat-hint matSuffix *ngIf="searcher.searchKeyword && searcher.searchResult.length > 0"
                                    align="end">{{searcher.searchIndex + 1}}/{{searcher.searchResult.length}} in {{ searcher.searchedItemCount }}{{ searcher.fullSearched ? '' : '+' }} nodes</mat-hint>
                          <mat-hint matSuffix *ngIf="searcher.searchKeyword && !searcher.fullSearched && searcher.searchResult.length === 0"
                                    align="end">0 results in {{ searcher.searchedItemCount }} nodes</mat-hint>
                          <mat-hint matSuffix *ngIf="searcher.searchKeyword && searcher.fullSearched && searcher.searchResult.length === 0"
                                    align="end">0 results</mat-hint>
                        </mat-form-field>
                      </div>
                      <div class="col-3 buttons">
                        <button mat-icon-button mat-small-icon-button
                                [disabled]="searcher.isSearching || !searcher.searchResult || searcher.searchResult.length === 0"
                                (click)="move(-1)">
                          <mat-icon>keyboard_arrow_up</mat-icon>
                        </button>
                        <button mat-icon-button mat-small-icon-button
                                [disabled]="searcher.isSearching || !searcher.searchResult || searcher.searchResult.length === 0"
                                (click)="move(1)">
                          <mat-icon>keyboard_arrow_down</mat-icon>
                        </button>
                        <button mat-icon-button mat-small-icon-button
                                [hidden]="searcher.fullSearched"
                                [disabled]="searcher.isSearching"
                                [matTooltip]="(searcher.searchKeyword && !searcher.fullSearched) ? 'Search more...' : 'Search'"
                                (click)="search(searcher.inputKeyword, false, true)">
                          <mat-icon>{{ (searcher.searchKeyword && !searcher.fullSearched) ? 'repeat' : 'search' }}</mat-icon>
                        </button>
                        <button mat-icon-button mat-small-icon-button
                                [disabled]="searcher.isSearching"
                                [hidden]="!searcher.inputKeyword"
                                (click)="searcher.inputKeyword = ''; searcher.resetSearch()">
                          <mat-icon>close</mat-icon>
                        </button>
                        <div style="height: 19px;">
                          <mat-progress-spinner mode="indeterminate" [diameter]="15" class="search-progress-bar"
                                                [hidden]="!searcher.isSearching"></mat-progress-spinner>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-7 actions-wrap">
                    <div class="actions ml-auto">
                      <button mat-icon-button mat-small-icon-button [id]="'cc-settings'"
                              [matMenuTriggerFor]="settingsContextMenu"
                              [matMenuTriggerData]="{'menuId': 'settingsContextMenu'}">
                        <mat-icon>settings</mat-icon>
                      </button>
                      <button mat-raised-button color="primary" (click)="updateDetails()"
                              *ngIf="state === 'WIP' && access === 'CanEdit'"
                              [disabled]="updateDisabled">
                        Update
                      </button>
                      <button mat-raised-button color="accent" (click)="updateState('QA')"
                              *ngIf="state === 'WIP' && (access === 'CanMove' || access === 'CanEdit')"
                              [disabled]="isUpdating || isChanged || !isEditable()">
                        Move to QA
                      </button>
                      <button mat-raised-button color="warn" (click)="updateState('WIP')"
                              *ngIf="state === 'QA' && (access === 'CanMove' || access === 'CanEdit')"
                              [disabled]="isUpdating">
                        Back to WIP
                      </button>
                      <button mat-raised-button color="accent" (click)="updateState('Production')"
                              *ngIf="state === 'QA' && (access === 'CanMove' || access === 'CanEdit')"
                              [disabled]="isUpdating">
                        Move to Production
                      </button>
                      <button mat-raised-button color="warn" (click)="makeNewRevision()"
                              *ngIf="(state === 'Published' || state === 'Production') && (access === 'CanMove' || access === 'CanEdit')"
                              [disabled]="isUpdating">
                        {{ userRoles.includes('developer') ? 'Revise' : 'Amend' }}
                      </button>
                      <button mat-raised-button color="warn" (click)="deleteNode()"
                              *ngIf="state === 'WIP' && !hasRevision() && access === 'CanEdit'"
                              [disabled]="isUpdating || isChanged">
                        Delete
                      </button>
                      <button mat-raised-button color="warn" (click)="purgeNode()"
                              *ngIf="state === 'Deleted' && (access === 'CanMove' || access === 'CanEdit')">
                        Purge
                      </button>
                      <button mat-raised-button color="primary" (click)="restoreNode()"
                              *ngIf="state === 'Deleted' && (access === 'CanMove' || access === 'CanEdit')">
                        Restore
                      </button>
                      <button mat-raised-button color="primary" (click)="cancelRevision()"
                              *ngIf="state === 'WIP' && hasRevision() && access === 'CanEdit'">
                        Cancel
                      </button>
                    </div>
                  </div>
                </div>
                <mat-menu class="context-menu" #settingsContextMenu="matMenu">
                  <button mat-menu-item [id]="'cc-settings-hide-cardinality'">
                    <mat-checkbox class="d-inline-flex pr-2" [(ngModel)]="hideCardinality">
                      <span>Hide cardinality</span>
                    </mat-checkbox>
                  </button>
                </mat-menu>
                <div class="row">
                  <div class="tree-breadcrumbs-wrap" id="cc-tree-breadcrumbs-wrap" *ngIf="selectedNode">
                    <div class="tree-breadcrumb"
                         *ngFor="let bread of selectedNode.parents; let last = last;">
                      <span aria-hidden="true" class="tree-breadcrumb-separator">/</span>
                      <span *ngIf="last"
                            class="tree-breadcrumb-item-last">{{ bread.name }} {{ last ? scrollBreadcrumb('cc-tree-breadcrumbs-wrap') : '' }}</span>
                      <span *ngIf="!last" class="tree-breadcrumb-item"
                            (click)="scrollToNode(bread)">{{ bread.name }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
      <div class="row m-0" (window:resize)="onResize($event)">
        <div class="col-12 p-0">
          <as-split unit="percent" [direction]="'horizontal'">
            <as-split-area class="left-panel" size="30">
              <mat-card class="cc-node-tree-panel">
                <mat-card-content class="mat-card-container">
                  <cdk-virtual-scroll-viewport itemSize="{{ virtualScrollItemSize }}" minBufferPx="{{ minBufferPx }}" maxBufferPx="{{ maxBufferPx }}"
                                               [style.height.px]="innerHeight" #virtualScroll
                         cdkDropList [cdkDropListEnterPredicate]="canDrop" (cdkDropListDropped)="drop($event)">
                    <div *cdkVirtualFor="let node of dataSource" class="example-item"
                         (mouseover)="node.showCopyLinkIcon = true" (mouseout)="node.showCopyLinkIcon = false"
                         cdkDrag [cdkDragData]="node"
                         [cdkDragDisabled]="!isDraggable(node)">
                      <div class="dragPlaceholder" *cdkDragPlaceholder></div>
                      <div class="mat-tree-node d-flex pointer"
                           tabIndex="0"
                           [class]="{'tree-node-selected': cursorNode === node}"
                           (click)="onClick(node, $event)"
                           (keydown)="keyNavigation(node, $event)"
                           [matTooltip]="'Circular reference detected.'"
                           [matTooltipDisabled]="!node.isCycle"
                           [style.padding-left]="node.level * paddingPixel + 'px'">
                        <button *ngIf="dataSource.isExpandable(node); else disabledRef;"
                                (click)="toggle(node, $event)"
                                class="align-self-center"
                                mat-icon-button>
                          <mat-icon class="mat-icon-rtl-mirror">
                            {{ dataSource.isExpanded(node) ? 'expand_more' : 'chevron_right' }}
                          </mat-icon>
                        </button>
                        <ng-template #disabledRef>
                          <button mat-icon-button disabled></button>
                        </ng-template>

                        <span [class]="['pr-2', 'align-self-center', node.typeClass.toLowerCase(),
                                        this.searcher.searchResult.indexOf(node) > -1 ? 'inside' : 'outside']"
                              [class.search-index]="this.searcher.searchResult.indexOf(node) === this.searcher.searchIndex"
                              [class.deprecated]="node.deprecated"
                              [class.text-danger]="node.state === 'Deleted'"
                              [class.text-line-through]="node.state === 'Deleted'"
                              [matTooltip]="node.state === 'Deleted' ? 'Deleted' : (node.deprecated ? 'Deprecated' : '')"
                              [innerHTML]="node.name | highlight : searcher.searchKeyword">
                        </span>

                        <span [class]="['pl-2', 'align-self-center']"
                              *ngIf="!dataSource.hideCardinality && node.cardinalityMin !== undefined && node.cardinalityMax !== undefined">
                          {{ node.cardinalityMin + '..' + ((node.cardinalityMax === -1) ? '&infin;' : node.cardinalityMax) }}
                        </span>

                        <div class="tag-list pl-2 align-self-center">
                            <span class="tag ml-2" *ngFor="let tag of node.tagList"
                                  [style.background-color]="tag.backgroundColor"
                                  [style.color]="tag.textColor">{{ tag.name }}</span>
                        </div>

                        <div class="ml-auto align-self-center mr-2 d-inline-flex">
                          <mat-icon [hidden]="!node.showCopyLinkIcon"
                                    matTooltip="Copy Link"
                                    (click)="copyLink(node, $event)">
                            link
                          </mat-icon>
                          <mat-icon class="dragHandle"
                                    *ngIf="isEditable() && isDraggable(node)"
                                    cdkDragHandle>drag_handle</mat-icon>
                          <mat-icon [style.visibility]="!node.isCycle ? '' : 'hidden'"
                                    [matMenuTriggerFor]="contextMenu"
                                    [matMenuTriggerData]="{'menuId': 'contextMenu'}"
                                    (click)="contextMenuItem = node; $event.stopPropagation();">more_vert
                          </mat-icon>
                        </div>
                      </div>
                    </div>
                  </cdk-virtual-scroll-viewport>

                  <mat-menu class="context-menu" #contextMenu="matMenu">
                    <button mat-menu-item (click)="copyPath(contextMenuItem)">
                      <span class="context-menu-item">Copy Path</span>
                    </button>
                    <mat-divider></mat-divider>
                    <button mat-menu-item (click)="dataSource.expandDescendants(contextMenuItem, 2)">
                      <span class="context-menu-item">Expand 2</span>
                    </button>
                    <button mat-menu-item (click)="dataSource.expandDescendants(contextMenuItem, 3)">
                      <span class="context-menu-item">Expand 3</span>
                    </button>
                    <mat-divider *ngIf="isEditable()"></mat-divider>
                    <button mat-menu-item (click)="appendAssociation(contextMenuItem, 0)"
                            *ngIf="!!contextMenuItem && contextMenuItem.level === 0 && isEditable()">
                      <span class="context-menu-item">Insert Property at First</span>
                    </button>
                    <button mat-menu-item (click)="appendAssociation(contextMenuItem, -1)"
                            *ngIf="!!contextMenuItem && contextMenuItem.level === 0 && isEditable()">
                      <span class="context-menu-item">Append Property at Last</span>
                    </button>
                    <button mat-menu-item (click)="appendAssociation(contextMenuItem, pos(contextMenuItem))"
                            *ngIf="isEditable() && isDraggable(contextMenuItem)">
                      <span class="context-menu-item">Insert Property Before</span>
                    </button>
                    <button mat-menu-item (click)="appendAssociation(contextMenuItem, pos(contextMenuItem) + 1)"
                            *ngIf="isEditable() && isDraggable(contextMenuItem)">
                      <span class="context-menu-item">Insert Property After</span>
                    </button>
                    <mat-divider *ngIf="!!contextMenuItem && contextMenuItem.level !== 0 && isEditable() &&
                                   isDraggable(contextMenuItem) && discardAble(contextMenuItem)"></mat-divider>
                    <button mat-menu-item (click)="onClickDiscard(contextMenuItem)"
                            *ngIf="!!contextMenuItem && contextMenuItem.level !== 0 && isEditable() &&
                                   isDraggable(contextMenuItem) && discardAble(contextMenuItem)">
                      <span class="context-menu-item">Remove</span>
                    </button>
                    <mat-divider></mat-divider>
                    <button mat-menu-item (click)="openCoreComponent(contextMenuItem)"
                            *ngIf="!!contextMenuItem && contextMenuItem.level !== 0">
                      <span class="context-menu-item">Open in new tab</span>
                    </button>
                    <button mat-menu-item (click)="openHistory(contextMenuItem)">
                      <span class="context-menu-item">Show History</span>
                    </button>
                    <button mat-menu-item (click)="openComments(contextMenuItem.type, contextMenuItem)">
                      <span class="context-menu-item">Comments</span>
                    </button>
                    <button mat-menu-item (click)="findUsages(contextMenuItem)"
                            [disabled]="!visibleFindUsages(contextMenuItem)">
                      <span class="context-menu-item">Where Used</span>
                    </button>
                    <button mat-menu-item [matMenuTriggerFor]="editTagsSubMenu">Tags</button>
                  </mat-menu>

                  <mat-menu #editTagsSubMenu="matMenu">
                    <button mat-menu-item *ngFor="let tag of tags" (click)="toggleTag(contextMenuItem, tag)">
                      <mat-icon>{{ contains(contextMenuItem, tag) ? 'check' : '' }}</mat-icon>
                      <span>{{ tag.name }}</span>
                    </button>
                    <mat-divider *ngIf="tags.length > 0"></mat-divider>
                    <button mat-menu-item (click)="openEditTags()">
                      <mat-icon>edit</mat-icon>
                      <span>Edit Tags</span>
                    </button>
                  </mat-menu>
                </mat-card-content>
              </mat-card>
            </as-split-area>
            <as-split-area class="right-panel" size="70" [style.height.px]="innerHeight + 17">
              <!-- ACC -->
              <div class="cc-node-detail-panel" *ngIf="isAccDetail()">
                <mat-tab-group mat-align-tabs="start" animationDuration="0ms">
                  <mat-tab label="{{ asAccDetail().den }}">
                    <div class="cc-node-detail-container">
                      <div class="row">
                        <div class="col-2">
                          <mat-form-field matTooltip="Aggregate Core Component">
                            <mat-label>Core Component</mat-label>
                            <input matInput value="ACC" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Release</mat-label>
                            <input matInput [(ngModel)]="asAccDetail().releaseNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="{{ asAccDetail().lastChangedManifestId > 0 ? 'col-1' : 'col-2' }}"
                             (click)="openInNewTab('/core_component/acc/' + asAccDetail().sinceManifestId)"
                             style="cursor: pointer;">
                          <mat-form-field>
                            <mat-label>Since</mat-label>
                            <input matInput [(ngModel)]="asAccDetail().sinceReleaseNum" [disabled]="true"
                                   style="pointer-events: none;">
                          </mat-form-field>
                        </div>
                        <div class="col-1" *ngIf="asAccDetail().lastChangedManifestId > 0"
                             (click)="openInNewTab('/core_component/acc/' + asAccDetail().lastChangedManifestId)"
                             style="cursor: pointer;">
                          <mat-form-field>
                            <mat-label>Last Changed</mat-label>
                            <input matInput [(ngModel)]="asAccDetail().lastChangedReleaseNum" [disabled]="true"
                                   style="pointer-events: none;">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Revision</mat-label>
                            <input matInput [(ngModel)]="asAccDetail().revisionNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>State</mat-label>
                            <input matInput [(ngModel)]="asAccDetail().state" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Owner</mat-label>
                            <input matInput [(ngModel)]="asAccDetail().owner" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>GUID</mat-label>
                            <input matInput maxlength="41"
                                   [(ngModel)]="asAccDetail().guid" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>{{'ACC_DETAIL.DEN' | translate}}</mat-label>
                            <input matInput maxlength="200"
                                   [(ngModel)]="asAccDetail().den" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>{{ 'ACC_DETAIL.OBJECT' | translate }}</mat-label>
                            <input matInput placeholder="{{ 'ACC_DETAIL.OBJECT' | translate }}" maxlength="100"
                                   [required]="true"
                                   [(ngModel)]="asAccDetail().objectClassTerm"
                                   [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-4">
                          <mat-form-field>
                            <mat-label>Component Type</mat-label>
                            <mat-select placeholder="Component Type"
                                        [(ngModel)]="asAccDetail().oagisComponentType"
                                        [disabled]="true">
                              <mat-option *ngFor="let componentType of componentTypes"
                                          [value]="componentType.value"
                                          [disabled]="true">
                                {{ componentType.name }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-4">
                          <div class="checkbox">
                            <mat-checkbox color="primary"
                                          [(ngModel)]="asAccDetail().abstracted"
                                          [disabled]="selectedNode.level !== 0 || !isEditable() || !abstractAble(asAccDetail())">
                              <span>Abstract</span>
                            </mat-checkbox>
                          </div>
                        </div>
                        <div class="col-4">
                          <div class="checkbox">
                            <mat-checkbox color="primary"
                                          [(ngModel)]="asAccDetail().deprecated"
                                          [disabled]="selectedNode.level !== 0 || !isEditable() || !hasRevision() || this.lastRevision.isDeprecated === true">
                              <span>Deprecated</span>
                              <span *ngIf="asAccDetail().replacement">, replaced by </span>
                            </mat-checkbox>
                            <div class="ml-1 d-inline-block" style="vertical-align: super" *ngIf="asAccDetail().replacement">
                              <span>
                                <a target="_blank" rel="noopener noreferrer"
                                   href="/core_component/acc/{{ asAccDetail().replacement.manifestId }}">{{ asAccDetail().replacement.den }}</a>
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field *ngIf="selectedNode.level === 0 && isEditable() && !hasRevision()">
                            <mat-label>Namespace</mat-label>
                            <mat-select placeholder="Namespace"
                                        [(ngModel)]="asAccDetail().namespaceId"
                                        [required]="true">
                              <mat-option>
                                <ngx-mat-select-search [formControl]="namespaceListFilterCtrl"
                                                       [placeholderLabel]="'Search...'"
                                                       [noEntriesFoundLabel]="'No matching namespace found.'"></ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let namespace of filteredNamespaceList | async" [value]="namespace.namespaceId">
                                {{ namespace.uri }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                          <mat-form-field *ngIf="selectedNode.level !== 0 || !isEditable() || hasRevision()">
                            <mat-label>Namespace</mat-label>
                            <mat-select placeholder="Namespace"
                                        [(ngModel)]="asAccDetail().namespaceId"
                                        [required]="true"
                                        [disabled]="true">
                              <mat-option *ngFor="let namespace of getSelectableNamespaces(asAccDetail().namespaceId)"
                                          [value]="namespace.namespaceId">{{ namespace.uri }}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Definition Source</mat-label>
                            <input matInput placeholder="Definition Source" maxlength="200"
                                   [(ngModel)]="asAccDetail().definitionSource"
                                   [disabled]="selectedNode.level !== 0 || !isEditable()">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Definition</mat-label>
                            <div class="textarea-container">
                              <textarea matInput rows="6" cols="30"
                                        placeholder="Definition"
                                        [(ngModel)]="asAccDetail().definition"
                                        [readonly]="selectedNode.level !== 0 || !isEditable()"></textarea>
                              <button mat-icon-button mat-small-icon-button
                                      *ngIf="this.state === 'WIP' && this.access === 'CanEdit' && selectedNode.level !== 0"
                                      (click)="copyToDefinition(asAccDetail().definition)"
                                      matTooltip="Copy to Definition">
                                <mat-icon>content_paste</mat-icon>
                              </button>
                            </div>
                          </mat-form-field>
                        </div>
                      </div>
                    </div>
                  </mat-tab>
                </mat-tab-group>
              </div>

              <!-- ASCC & ASCCP -->
              <div class="cc-node-detail-panel" *ngIf="isAsccpDetail()">
                <mat-tab-group mat-align-tabs="start" animationDuration="0ms">
                  <mat-tab label="{{ asAsccpDetail().ascc.den }}" *ngIf="asAsccpDetail().ascc">
                    <div class="cc-node-detail-container">
                      <div class="row">
                        <div class="col-2">
                          <mat-form-field matTooltip="Association Core Component">
                            <mat-label>Core Component</mat-label>
                            <input matInput value="ASCC" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Release</mat-label>
                            <input matInput [(ngModel)]="asAsccpDetail().ascc.releaseNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="{{ asAsccpDetail().ascc.lastChangedManifestId > 0 ? 'col-1' : 'col-2' }}">
                          <mat-form-field>
                            <mat-label>Since</mat-label>
                            <input matInput [(ngModel)]="asAsccpDetail().ascc.sinceReleaseNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-1" *ngIf="asAsccpDetail().ascc.lastChangedManifestId > 0">
                          <mat-form-field>
                            <mat-label>Last Changed</mat-label>
                            <input matInput [(ngModel)]="asAsccpDetail().ascc.lastChangedReleaseNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Revision</mat-label>
                            <input matInput [(ngModel)]="asAsccpDetail().ascc.revisionNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>State</mat-label>
                            <input matInput [(ngModel)]="asAsccpDetail().ascc.state" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Owner</mat-label>
                            <input matInput [(ngModel)]="asAsccpDetail().ascc.owner" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>GUID</mat-label>
                            <input matInput maxlength="41"
                                   [(ngModel)]="asAsccpDetail().ascc.guid" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>{{ 'ASCC_DETAIL.DEN' | translate }}</mat-label>
                            <input matInput maxlength="200"
                                   [(ngModel)]="asAsccpDetail().ascc.den" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>Cardinality Min</mat-label>
                            <input matInput placeholder="Cardinality Min" required
                                   [formControl]="ccCardinalityMin">
                            <mat-error *ngIf="ccCardinalityMin.hasError('required') || ccCardinalityMin.hasError('whitespace')">
                              Cardinality Min is <strong>required</strong>
                            </mat-error>
                            <mat-error *ngIf="!ccCardinalityMin.hasError('min') && ccCardinalityMin.hasError('pattern')">
                              '{{ ccCardinalityMin.value }}' is not allowed for Cardinality Min
                            </mat-error>
                            <mat-error *ngIf="ccCardinalityMin.hasError('max')">
                              {{ ccCardinalityMin.getError('max') }}
                            </mat-error>
                          </mat-form-field>
                        </div>
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>{{ 'ASCC_DETAIL.MAX' | translate }}</mat-label>
                            <input matInput placeholder="{{ 'ASCC_DETAIL.MAX' | translate }}" required
                                   [formControl]="ccCardinalityMax"
                                   [value]="ccCardinalityMax.value | unbounded">
                            <mat-hint *ngIf="ccCardinalityMax.valid && asAsccpDetail().ascc.cardinalityMax === 0 &&
                                            (!asAsccpDetail().ascc.definition || asAsccpDetail().ascc.definition === '')"
                                      style="color: #ff5722;">
                              Definition should define why Cardinality Max is zero (0)
                            </mat-hint>
                            <mat-error *ngIf="ccCardinalityMax.hasError('required') || ccCardinalityMax.hasError('whitespace')">
                              Cardinality Max is <strong>required</strong>
                            </mat-error>
                            <mat-error *ngIf="ccCardinalityMax.hasError('pattern')">
                              '{{ ccCardinalityMax.value }}' is not allowed for Cardinality Max
                            </mat-error>
                            <mat-error *ngIf="ccCardinalityMax.hasError('min')">
                              {{ ccCardinalityMax.getError('min') }}
                            </mat-error>
                            <mat-error *ngIf="ccCardinalityMax.hasError('max')">
                              {{ ccCardinalityMax.getError('max') }}
                            </mat-error>
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-4">
                          <div class="checkbox">
                            <mat-checkbox color="primary"
                                          [(ngModel)]="asAsccpDetail().ascc.deprecated"
                                          [disabled]="selectedNode.level !== 1 || !isEditable()  || !isDeprecateAble()">
                              <span>Deprecated</span>
                            </mat-checkbox>
                          </div>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Definition Source</mat-label>
                            <input matInput placeholder="Definition Source" maxlength="200"
                                   [(ngModel)]="asAsccpDetail().ascc.definitionSource"
                                   [disabled]="selectedNode.level !== 1 || !isEditable()">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Definition</mat-label>
                            <div class="textarea-container">
                              <textarea matInput rows="6" cols="30"
                                        placeholder="Definition"
                                        [(ngModel)]="asAsccpDetail().ascc.definition"
                                        [readonly]="selectedNode.level !== 1 || !isEditable()"></textarea>
                              <button mat-icon-button mat-small-icon-button
                                      *ngIf="this.state === 'WIP' && this.access === 'CanEdit'"
                                      (click)="copyToDefinition(asAsccpDetail().ascc.definition)"
                                      matTooltip="Copy to Definition">
                                <mat-icon>content_paste</mat-icon>
                              </button>
                            </div>
                          </mat-form-field>
                        </div>
                      </div>
                    </div>
                  </mat-tab>
                </mat-tab-group>
              </div>
              <div class="cc-node-detail-panel" *ngIf="isAsccpDetail()">
                <mat-tab-group mat-align-tabs="start" animationDuration="0ms">
                  <mat-tab label="{{ asAsccpDetail().asccp.den }}" *ngIf="asAsccpDetail().asccp">
                    <div class="cc-node-detail-container">
                      <div class="row">
                        <div class="col-2">
                          <mat-form-field matTooltip="Association Core Component Property">
                            <mat-label>Core Component</mat-label>
                            <input matInput value="ASCCP" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Release</mat-label>
                            <input matInput [(ngModel)]="asAsccpDetail().asccp.releaseNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="{{ asAsccpDetail().asccp.lastChangedManifestId > 0 ? 'col-1' : 'col-2' }}"
                             (click)="openInNewTab('/core_component/asccp/' + asAsccpDetail().asccp.sinceManifestId)"
                             style="cursor: pointer;">
                          <mat-form-field>
                            <mat-label>Since</mat-label>
                            <input matInput [(ngModel)]="asAsccpDetail().asccp.sinceReleaseNum" [disabled]="true"
                                   style="pointer-events: none;">
                          </mat-form-field>
                        </div>
                        <div class="col-1" *ngIf="asAsccpDetail().asccp.lastChangedManifestId > 0"
                             (click)="openInNewTab('/core_component/asccp/' + asAsccpDetail().asccp.lastChangedManifestId)"
                             style="cursor: pointer;">
                          <mat-form-field>
                            <mat-label>Last Changed</mat-label>
                            <input matInput [(ngModel)]="asAsccpDetail().asccp.lastChangedReleaseNum" [disabled]="true"
                                   style="pointer-events: none;">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Revision</mat-label>
                            <input matInput [(ngModel)]="asAsccpDetail().asccp.revisionNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>State</mat-label>
                            <input matInput [(ngModel)]="asAsccpDetail().asccp.state" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Owner</mat-label>
                            <input matInput [(ngModel)]="asAsccpDetail().asccp.owner" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>GUID</mat-label>
                            <input matInput maxlength="41"
                                   [(ngModel)]="asAsccpDetail().asccp.guid" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>{{ 'ASCCP_DETAIL.DEN' | translate }}</mat-label>
                            <input matInput maxlength="200"
                                   [(ngModel)]="asAsccpDetail().asccp.den" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>{{ 'ASCCP_DETAIL.PROPERTY_TERM' | translate }}</mat-label>
                            <input matInput placeholder="{{ 'ASCCP_DETAIL.PROPERTY_TERM' | translate }}" maxlength="60"
                                   [(ngModel)]="asAsccpDetail().asccp.propertyTerm"
                                   [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-4">
                          <div class="checkbox">
                            <mat-checkbox color="primary"
                                          [(ngModel)]="asAsccpDetail().asccp.reusable"
                                          [disabled]="true">
                              <span>Reusable</span>
                            </mat-checkbox>
                          </div>
                        </div>
                        <div class="col-4">
                          <div class="checkbox">
                            <mat-checkbox color="primary"
                                          [(ngModel)]="asAsccpDetail().asccp.nillable"
                                          [disabled]="true">
                              <span>Nillable</span>
                            </mat-checkbox>
                          </div>
                        </div>
                        <div class="col-4">
                          <div class="checkbox">
                            <mat-checkbox color="primary"
                                          [(ngModel)]="asAsccpDetail().asccp.deprecated"
                                          [disabled]="true">
                              <span>Deprecated</span>
                              <span *ngIf="asAsccpDetail().asccp.replacement">, replaced by </span>
                            </mat-checkbox>
                            <div class="ml-1 d-inline-block" style="vertical-align: super" *ngIf="asAsccpDetail().asccp.replacement">
                              <span>
                                <a target="_blank" rel="noopener noreferrer"
                                   href="/core_component/asccp/{{ asAsccpDetail().asccp.replacement.manifestId }}">{{ asAsccpDetail().asccp.replacement.den }}</a>
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Namespace</mat-label>
                            <mat-select placeholder="Namespace"
                                        [(ngModel)]="asAsccpDetail().asccp.namespaceId"
                                        [disabled]="true">
                              <mat-option [value]="0">-</mat-option>
                              <mat-option *ngFor="let namespace of getSelectableNamespaces(asAsccpDetail().asccp.namespaceId)"
                                          [value]="namespace.namespaceId">{{namespace.uri}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Definition Source</mat-label>
                            <input matInput placeholder="Definition Source" maxlength="200"
                                   [(ngModel)]="asAsccpDetail().asccp.definitionSource"
                                   [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Definition</mat-label>
                            <div class="textarea-container">
                              <textarea matInput rows="6" cols="30"
                                        placeholder="Definition"
                                        [(ngModel)]="asAsccpDetail().asccp.definition"
                                        [readonly]="true"></textarea>
                              <button mat-icon-button mat-small-icon-button
                                      *ngIf="this.state === 'WIP' && this.access === 'CanEdit'"
                                      (click)="copyToDefinition(asAsccpDetail().asccp.definition)"
                                      matTooltip="Copy to Definition">
                                <mat-icon>content_paste</mat-icon>
                              </button>
                            </div>
                          </mat-form-field>
                        </div>
                      </div>
                    </div>
                  </mat-tab>
                </mat-tab-group>
              </div>

              <!-- BCC & BCCP & BDT -->
              <div class="cc-node-detail-panel" *ngIf="isBccpDetail()">
                <mat-tab-group mat-align-tabs="start" animationDuration="0ms">
                  <mat-tab label="{{ asBccpDetail().bcc.den }}" *ngIf="asBccpDetail().bcc">
                    <div class="cc-node-detail-container">
                      <div class="row">
                        <div class="col-2">
                          <mat-form-field matTooltip="Basic Core Component">
                            <mat-label>Core Component</mat-label>
                            <input matInput value="BCC" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Release</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bcc.releaseNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="{{ asBccpDetail().bcc.lastChangedManifestId > 0 ? 'col-1' : 'col-2' }}">
                          <mat-form-field>
                            <mat-label>Since</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bcc.sinceReleaseNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-1" *ngIf="asBccpDetail().bcc.lastChangedManifestId > 0">
                          <mat-form-field>
                            <mat-label>Last Changed</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bcc.lastChangedReleaseNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Revision</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bcc.revisionNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>State</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bcc.state" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Owner</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bcc.owner" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>GUID</mat-label>
                            <input matInput maxlength="41"
                                   [(ngModel)]="asBccpDetail().bcc.guid" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>{{ 'BCC_DETAIL.DEN' | translate }}</mat-label>
                            <input matInput maxlength="200"
                                   [(ngModel)]="asBccpDetail().bcc.den" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>Cardinality Min</mat-label>
                            <input matInput placeholder="Cardinality Min" required
                                   [formControl]="ccCardinalityMin" />
                            <mat-error *ngIf="ccCardinalityMin.hasError('required') || ccCardinalityMin.hasError('whitespace')">
                              Cardinality Min is <strong>required</strong>
                            </mat-error>
                            <mat-error *ngIf="!ccCardinalityMin.hasError('min') && ccCardinalityMin.hasError('pattern')">
                              '{{ ccCardinalityMin.value }}' is not allowed for Cardinality Min
                            </mat-error>
                            <mat-error *ngIf="ccCardinalityMin.hasError('max')">
                              {{ ccCardinalityMin.getError('max') }}
                            </mat-error>
                          </mat-form-field>
                        </div>
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>{{ 'BCC_DETAIL.MAX' | translate }}</mat-label>
                            <input matInput placeholder="{{ 'BCC_DETAIL.MAX' | translate }}" required
                                   [formControl]="ccCardinalityMax"
                                   [value]="ccCardinalityMax.value | unbounded" />
                            <mat-hint *ngIf="ccCardinalityMax.valid && asBccpDetail().bcc.cardinalityMax === 0 &&
                                            (!asBccpDetail().bcc.definition || asBccpDetail().bcc.definition === '')"
                                      style="color: #ff5722;">
                              Definition should define why Cardinality Max is zero (0)
                            </mat-hint>
                            <mat-error *ngIf="ccCardinalityMax.hasError('required') || ccCardinalityMax.hasError('whitespace')">
                              Cardinality Max is <strong>required</strong>
                            </mat-error>
                            <mat-error *ngIf="ccCardinalityMax.hasError('pattern')">
                              '{{ ccCardinalityMax.value }}' is not allowed for Cardinality Max
                            </mat-error>
                            <mat-error *ngIf="ccCardinalityMax.hasError('min')">
                              {{ ccCardinalityMax.getError('min') }}
                            </mat-error>
                            <mat-error *ngIf="ccCardinalityMax.hasError('max')">
                              {{ ccCardinalityMax.getError('max') }}
                            </mat-error>
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Entity Type</mat-label>
                            <mat-select placeholder="Entity Type"
                                        [(ngModel)]="asBccpDetail().bcc.entityType"
                                        (ngModelChange)="onChangeEntityType(asBccpDetail())"
                                        [disabled]="selectedNode.level !== 1 || !isEditable() || hasRevisionAssociation() || !asBccpDetail().bdt.hasNoSc">
                              <mat-option *ngFor="let entityType of entityTypes"
                                          [value]="entityType.value">
                                {{ entityType.name }}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-4">
                          <div class="checkbox">
                            <mat-checkbox color="primary"
                                          [(ngModel)]="asBccpDetail().bcc.deprecated"
                                          [disabled]="selectedNode.level !== 1 || !isEditable() || !isDeprecateAble()">
                              <span>Deprecated</span>
                            </mat-checkbox>
                          </div>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-md-3 col-sm-3">
                          <mat-form-field>
                            <mat-label>Value Constraint</mat-label>
                            <mat-select [(ngModel)]="asBccpDetail().bcc.fixedOrDefault"
                                        [disabled]="selectedNode.level !== 1 || !isEditable() || asBccpDetail().bcc.entityType === 1">
                              <mat-option value="none">None</mat-option>
                              <mat-option value="fixed">Fixed Value</mat-option>
                              <mat-option value="default">Default Value</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div class="col-md-9 col-sm-9">
                          <mat-form-field *ngIf="asBccpDetail().bcc.fixedOrDefault == 'none'">
                            <mat-label>No value constraints</mat-label>
                            <input matInput placeholder="No value constraints"
                                   [disabled]="true">
                          </mat-form-field>

                          <mat-form-field *ngIf="asBccpDetail().bcc.fixedOrDefault == 'fixed'">
                            <mat-label>Fixed Value</mat-label>
                            <input matInput placeholder="Fixed Value"
                                   [(ngModel)]="asBccpDetail().bcc.fixedValue"
                                   [disabled]="selectedNode.level !== 1 || !isEditable()">
                          </mat-form-field>

                          <mat-form-field *ngIf="asBccpDetail().bcc.fixedOrDefault == 'default'">
                            <mat-label>Default Value</mat-label>
                            <input matInput placeholder="Default Value"
                                   [(ngModel)]="asBccpDetail().bcc.defaultValue"
                                   [disabled]="selectedNode.level !== 1 || !isEditable()">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Definition Source</mat-label>
                            <input matInput placeholder="Definition Source" maxlength="200"
                                   [(ngModel)]="asBccpDetail().bcc.definitionSource"
                                   [disabled]="selectedNode.level !== 1 || !isEditable()">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Definition</mat-label>
                            <div class="textarea-container">
                              <textarea matInput rows="6" cols="30"
                                        placeholder="Definition"
                                        [(ngModel)]="asBccpDetail().bcc.definition"
                                        [readonly]="selectedNode.level !== 1 || !isEditable()"></textarea>
                              <button mat-icon-button mat-small-icon-button
                                      *ngIf="this.state === 'WIP' && this.access === 'CanEdit'"
                                      (click)="copyToDefinition(asBccpDetail().bcc.definition)"
                                      matTooltip="Copy to Definition">
                                <mat-icon>content_paste</mat-icon>
                              </button>
                            </div>
                          </mat-form-field>
                        </div>
                      </div>
                    </div>
                  </mat-tab>
                </mat-tab-group>
              </div>
              <div class="cc-node-detail-panel" *ngIf="isBccpDetail()">
                <mat-tab-group mat-align-tabs="start" animationDuration="0ms">
                  <mat-tab label="{{ asBccpDetail().bccp.den }}" *ngIf="asBccpDetail().bccp">
                    <div class="cc-node-detail-container">
                      <div class="row">
                        <div class="col-2">
                          <mat-form-field matTooltip="Basic Core Component Property">
                            <mat-label>Core Component</mat-label>
                            <input matInput value="BCCP" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Release</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bccp.releaseNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="{{ asBccpDetail().bccp.lastChangedManifestId > 0 ? 'col-1' : 'col-2' }}"
                             (click)="openInNewTab('/core_component/bccp/' + asBccpDetail().bccp.sinceManifestId)"
                             style="cursor: pointer;">
                          <mat-form-field>
                            <mat-label>Since</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bccp.sinceReleaseNum" [disabled]="true"
                                   style="pointer-events: none;">
                          </mat-form-field>
                        </div>
                        <div class="col-1" *ngIf="asBccpDetail().bccp.lastChangedManifestId > 0"
                             (click)="openInNewTab('/core_component/bccp/' + asBccpDetail().bccp.lastChangedManifestId)"
                             style="cursor: pointer;">
                          <mat-form-field>
                            <mat-label>Last Changed</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bccp.lastChangedReleaseNum" [disabled]="true"
                                   style="pointer-events: none;">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Revision</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bccp.revisionNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>State</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bccp.state" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Owner</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bccp.owner" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>GUID</mat-label>
                            <input matInput maxlength="41"
                                   [(ngModel)]="asBccpDetail().bccp.guid" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>{{ 'BCCP_DETAIL.DEN' | translate }}</mat-label>
                            <input matInput maxlength="200"
                                   [(ngModel)]="asBccpDetail().bccp.den" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>{{ 'BCCP_DETAIL.PROPERTY_TERM' | translate }}</mat-label>
                            <input matInput placeholder="{{ 'BCCP_DETAIL.PROPERTY_TERM' | translate }}" maxlength="60"
                                   [(ngModel)]="asBccpDetail().bccp.propertyTerm" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-4">
                          <div class="checkbox">
                            <mat-checkbox color="primary"
                                          [(ngModel)]="asBccpDetail().bccp.nillable"
                                          [disabled]="true">
                              <span>Nillable</span>
                            </mat-checkbox>
                          </div>
                        </div>
                        <div class="col-4">
                          <div class="checkbox">
                            <mat-checkbox color="primary"
                                          [(ngModel)]="asBccpDetail().bccp.deprecated"
                                          [disabled]="true">
                              <span>Deprecated</span>
                              <span *ngIf="asBccpDetail().bccp.replacement">, replaced by </span>
                            </mat-checkbox>
                            <div class="ml-1 d-inline-block" style="vertical-align: super" *ngIf="asBccpDetail().bccp.replacement">
                              <span>
                                <a target="_blank" rel="noopener noreferrer"
                                   href="/core_component/bccp/{{ asBccpDetail().bccp.replacement.manifestId }}">{{ asBccpDetail().bccp.replacement.den }}</a>
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-md-3 col-sm-3">
                          <mat-form-field>
                            <mat-select [(ngModel)]="asBccpDetail().bccp.fixedOrDefault"
                                        [disabled]="true">
                              <mat-option value="none">None</mat-option>
                              <mat-option value="fixed">Fixed Value</mat-option>
                              <mat-option value="default">Default Value</mat-option>
                            </mat-select>
                            <mat-label>Value Constraint</mat-label>
                          </mat-form-field>
                        </div>
                        <div class="col-md-9 col-sm-9">
                          <mat-form-field *ngIf="asBccpDetail().bccp.fixedOrDefault == 'none'">
                            <mat-label>No value constraints</mat-label>
                            <input matInput placeholder="No value constraints"
                                   [disabled]="true">
                          </mat-form-field>

                          <mat-form-field *ngIf="asBccpDetail().bccp.fixedOrDefault == 'fixed'">
                            <mat-label>Fixed Value</mat-label>
                            <input matInput placeholder="Fixed Value"
                                   [(ngModel)]="asBccpDetail().bccp.fixedValue"
                                   [disabled]="true">
                          </mat-form-field>

                          <mat-form-field *ngIf="asBccpDetail().bccp.fixedOrDefault == 'default'">
                            <mat-label>Default Value</mat-label>
                            <input matInput placeholder="Default Value"
                                   [(ngModel)]="asBccpDetail().bccp.defaultValue"
                                   [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Namespace</mat-label>
                            <mat-select placeholder="Namespace"
                                        [(ngModel)]="asBccpDetail().bccp.namespaceId"
                                        [disabled]="true">
                              <mat-option [value]="0">-</mat-option>
                              <mat-option *ngFor="let namespace of getSelectableNamespaces(asBccpDetail().bccp.namespaceId)"
                                          [value]="namespace.namespaceId">{{namespace.uri}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Definition Source</mat-label>
                            <input matInput placeholder="Definition Source" maxlength="200"
                                   [(ngModel)]="asBccpDetail().bccp.definitionSource" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Definition</mat-label>
                            <div class="textarea-container">
                              <textarea matInput rows="6" cols="30"
                                        placeholder="Definition"
                                        [(ngModel)]="asBccpDetail().bccp.definition"
                                        [readonly]="true"></textarea>
                              <button mat-icon-button mat-small-icon-button
                                      *ngIf="this.state === 'WIP' && this.access === 'CanEdit'"
                                      (click)="copyToDefinition(asBccpDetail().bccp.definition)"
                                      matTooltip="Copy to Definition">
                                <mat-icon>content_paste</mat-icon>
                              </button>
                            </div>
                          </mat-form-field>
                        </div>
                      </div>
                    </div>
                  </mat-tab>
                </mat-tab-group>
              </div>
              <div class="cc-node-detail-panel" *ngIf="isBccpDetail()">
                <mat-tab-group mat-align-tabs="start" animationDuration="0ms">
                  <mat-tab label="{{ asBccpDetail().bdt.den }}" *ngIf="asBccpDetail().bdt">
                    <div class="cc-node-detail-container">
                      <div class="row">
                        <div class="col-2">
                          <mat-form-field matTooltip="Data Type">
                            <mat-label>Core Component</mat-label>
                            <input matInput value="DT" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Release</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bdt.releaseNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="{{ asBccpDetail().bdt.lastChangedManifestId > 0 ? 'col-1' : 'col-2' }}"
                             (click)="openInNewTab('/core_component/dt/' + asBccpDetail().bdt.sinceManifestId)"
                             style="cursor: pointer;">
                          <mat-form-field>
                            <mat-label>Since</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bdt.sinceReleaseNum" [disabled]="true"
                                   style="pointer-events: none;">
                          </mat-form-field>
                        </div>
                        <div class="col-1" *ngIf="asBccpDetail().bdt.lastChangedManifestId > 0"
                             (click)="openInNewTab('/core_component/dt/' + asBccpDetail().bdt.lastChangedManifestId)"
                             style="cursor: pointer;">
                          <mat-form-field>
                            <mat-label>Last Changed</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bdt.lastChangedReleaseNum" [disabled]="true"
                                   style="pointer-events: none;">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Revision</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bdt.revisionNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>State</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bdt.state" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Owner</mat-label>
                            <input matInput [(ngModel)]="asBccpDetail().bdt.owner" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>GUID</mat-label>
                            <input matInput maxlength="41"
                                   [(ngModel)]="asBccpDetail().bdt.guid" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>{{ 'DATA_TYPE_DETAIL.DEN' | translate }}</mat-label>
                            <input matInput maxlength="200"
                                   [(ngModel)]="asBccpDetail().bdt.den" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-4">
                          <mat-form-field>
                            <mat-label>Data Type Term</mat-label>
                            <input matInput placeholder="Data Type Term" maxlength="45"
                                   [(ngModel)]="asBccpDetail().bdt.dataTypeTerm" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-4">
                          <mat-form-field>
                            <mat-label>Representation Term</mat-label>
                            <input matInput placeholder="Representation Term" maxlength="100"
                                   [(ngModel)]="asBccpDetail().bdt.representationTerm" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-4">
                          <mat-form-field>
                            <mat-label>Qualifier</mat-label>
                            <input matInput placeholder="Qualifier" maxlength="100"
                                   [(ngModel)]="asBccpDetail().bdt.qualifier" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Namespace</mat-label>
                            <mat-select placeholder="Namespace"
                                        [(ngModel)]="asBccpDetail().bdt.namespaceId"
                                        [disabled]="true">
                              <mat-option [value]="0">-</mat-option>
                              <mat-option *ngFor="let namespace of getSelectableNamespaces(asBccpDetail().bdt.namespaceId)"
                                          [value]="namespace.namespaceId">{{namespace.uri}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Definition Source</mat-label>
                            <input matInput placeholder="Definition Source" maxlength="200"
                                   [(ngModel)]="asBccpDetail().bdt.definitionSource" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Definition</mat-label>
                            <div class="textarea-container">
                              <textarea matInput rows="6" cols="30"
                                        placeholder="Definition"
                                        [(ngModel)]="asBccpDetail().bdt.definition"
                                        [readonly]="true"></textarea>
                              <button mat-icon-button mat-small-icon-button
                                      *ngIf="this.state === 'WIP' && this.access === 'CanEdit'"
                                      (click)="copyToDefinition(asBccpDetail().bdt.definition)"
                                      matTooltip="Copy to Definition">
                                <mat-icon>content_paste</mat-icon>
                              </button>
                            </div>
                          </mat-form-field>
                        </div>
                      </div>
                    </div>
                  </mat-tab>
                </mat-tab-group>
              </div>

              <!-- BDT_SC -->
              <div class="cc-node-detail-panel" *ngIf="isBdtScDetail()">
                <mat-tab-group mat-align-tabs="start" animationDuration="0ms">
                  <mat-tab label="{{ asBdtScDetail().den }}">
                    <div class="cc-node-detail-container">
                      <div class="row">
                        <div class="col-2">
                          <mat-form-field matTooltip="Data Type Supplementary Component">
                            <mat-label>Core Component</mat-label>
                            <input matInput value="DTSC" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Release</mat-label>
                            <input matInput [(ngModel)]="asBdtScDetail().releaseNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="{{ asBdtScDetail().lastChangedManifestId > 0 ? 'col-1' : 'col-2' }}">
                          <mat-form-field>
                            <mat-label>Since</mat-label>
                            <input matInput [(ngModel)]="asBdtScDetail().sinceReleaseNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-1" *ngIf="asBdtScDetail().lastChangedManifestId > 0">
                          <mat-form-field>
                            <mat-label>Last Changed</mat-label>
                            <input matInput [(ngModel)]="asBdtScDetail().lastChangedReleaseNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Revision</mat-label>
                            <input matInput [(ngModel)]="asBdtScDetail().revisionNum" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>State</mat-label>
                            <input matInput [(ngModel)]="asBdtScDetail().state" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-2">
                          <mat-form-field>
                            <mat-label>Owner</mat-label>
                            <input matInput [(ngModel)]="asBdtScDetail().owner" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>GUID</mat-label>
                            <input matInput maxlength="41"
                                   [(ngModel)]="asBdtScDetail().guid" [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>{{ 'BDT_SC_DETAIL.DEN' | translate }}</mat-label>
                            <input matInput maxlength="200"
                                   [(ngModel)]="asBdtScDetail().den" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>Cardinality Min</mat-label>
                            <input matInput placeholder="Cardinality Min"
                                   [(ngModel)]="asBdtScDetail().cardinalityMin"
                                   [disabled]="true">
                          </mat-form-field>
                        </div>
                        <div class="col-6">
                          <mat-form-field>
                            <mat-label>{{ 'BDT_SC_DETAIL.MAX' | translate }}</mat-label>
                            <input matInput placeholder="{{ 'BDT_SC_DETAIL.MAX' | translate }}"
                                   [value]="asBdtScDetail().cardinalityMax | unbounded"
                                   [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-md-3 col-sm-3">
                          <mat-form-field>
                            <mat-label>Value Constraint</mat-label>
                            <mat-select [(ngModel)]="asBdtScDetail().fixedOrDefault"
                                        [disabled]="true">
                              <mat-option value="none">None</mat-option>
                              <mat-option value="fixed">Fixed Value</mat-option>
                              <mat-option value="default">Default Value</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div class="col-md-9 col-sm-9">
                          <mat-form-field *ngIf="asBdtScDetail().fixedOrDefault == 'none'">
                            <mat-label>No value constraints</mat-label>
                            <input matInput placeholder="No value constraints"
                                   [disabled]="true">
                          </mat-form-field>

                          <mat-form-field *ngIf="asBdtScDetail().fixedOrDefault == 'fixed'">
                            <mat-label>Fixed Value</mat-label>
                            <input matInput placeholder="Fixed Value"
                                   [(ngModel)]="asBdtScDetail().fixedValue"
                                   [disabled]="true">
                          </mat-form-field>

                          <mat-form-field *ngIf="asBdtScDetail().fixedOrDefault == 'default'">
                            <mat-label>Default Value</mat-label>
                            <input matInput placeholder="Default Value"
                                   [(ngModel)]="asBdtScDetail().defaultValue"
                                   [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Definition Source</mat-label>
                            <input matInput placeholder="Definition Source" maxlength="200"
                                   [(ngModel)]="asBdtScDetail().definitionSource" [disabled]="true">
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <mat-form-field>
                            <mat-label>Definition</mat-label>
                            <div class="textarea-container">
                              <textarea matInput rows="6" cols="30"
                                        placeholder="Definition"
                                        [(ngModel)]="asBdtScDetail().definition"
                                        [readonly]="true"></textarea>
                              <button mat-icon-button mat-small-icon-button
                                      *ngIf="this.state === 'WIP' && this.access === 'CanEdit'"
                                      (click)="copyToDefinition(asBdtScDetail().definition)"
                                      matTooltip="Copy to Definition">
                                <mat-icon>content_paste</mat-icon>
                              </button>
                            </div>
                          </mat-form-field>
                        </div>
                      </div>
                    </div>
                  </mat-tab>
                </mat-tab-group>
              </div>
            </as-split-area>
          </as-split>
        </div>
      </div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
