<mat-card style="box-shadow: none; padding: 0;">
  <mat-card-header>
    <mat-card-title>{{ actionName }} Business Context Value</mat-card-title>
  </mat-card-header>
</mat-card>

<mat-dialog-content class="mat-card-container">
  <mat-card>
    <mat-card-content>
      <mat-form-field>
        <mat-label>Context Category</mat-label>
        <mat-select [(ngModel)]="bizCtxValue.ctxCategoryId" (selectionChange)="onCtxCategoryChange()">
          <ngx-mat-select-search [formControl]="ctxCategoryListFilterCtrl"
                                 [placeholderLabel]="'Search...'"
                                 [noEntriesFoundLabel]="'No matching context category found.'"></ngx-mat-select-search>
          <mat-option *ngFor="let ctxCategory of filteredCtxCategoryList | async" [value]="ctxCategory.ctxCategoryId">
            {{ ctxCategory.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Description</mat-label>
        <textarea rows="6" cols="30" matInput [(ngModel)]="ctxCategory.description" [disabled]="true"></textarea>
      </mat-form-field>
    </mat-card-content>
  </mat-card>
  <mat-card>
    <mat-card-content>
      <mat-form-field>
        <mat-label>Context Scheme</mat-label>
        <mat-select [disabled]="bizCtxValue.ctxCategoryId === undefined" placeholder="Context Scheme" required
                    [(ngModel)]="bizCtxValue.ctxSchemeId" (selectionChange)="onCtxSchemeChange()">
          <ngx-mat-select-search [formControl]="ctxSchemeListFilterCtrl"
                                 [placeholderLabel]="'Search...'"
                                 [noEntriesFoundLabel]="'No matching context scheme found.'"></ngx-mat-select-search>
          <mat-option *ngFor="let ctxScheme of filteredCtxSchemeList | async" [value]="ctxScheme.ctxSchemeId">
            {{ ctxScheme.schemeName }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Scheme ID</mat-label>
        <input matInput [(ngModel)]="ctxScheme.schemeId" maxlength="45"
               [disabled]="true"/>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Agency ID</mat-label>
        <input matInput [(ngModel)]="ctxScheme.schemeAgencyId" maxlength="45"
               [disabled]="true"/>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Version</mat-label>
        <input matInput [(ngModel)]="ctxScheme.schemeVersionId" maxlength="45"
               [disabled]="true"/>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Description</mat-label>
        <textarea rows="6" cols="30" matInput [(ngModel)]="ctxScheme.description"
                  [disabled]="true"></textarea>
      </mat-form-field>
    </mat-card-content>
  </mat-card>
  <mat-card>
    <mat-card-content>
      <mat-form-field>
        <mat-label>Context Scheme Value</mat-label>
        <mat-select [disabled]="bizCtxValue.ctxSchemeId === undefined" placeholder="Context Scheme Value" required
                    [(ngModel)]="bizCtxValue.ctxSchemeValueId" (selectionChange)="onCtxSchemeValueChange()">
          <ngx-mat-select-search [formControl]="ctxSchemeValueListFilterCtrl"
                                 [placeholderLabel]="'Search...'"
                                 [noEntriesFoundLabel]="'No matching context scheme value found.'"></ngx-mat-select-search>
          <mat-option *ngFor="let ctxSchemeValue of filteredCtxSchemeValueList | async" [value]="ctxSchemeValue.ctxSchemeValueId">
            {{ ctxSchemeValue.value }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Meaning</mat-label>
        <textarea rows="6" cols="30" matInput [(ngModel)]="ctxSchemeValue.meaning"
                  [disabled]="true"></textarea>
      </mat-form-field>
    </mat-card-content>
  </mat-card>
</mat-dialog-content>

<mat-dialog-actions>
  <button mat-raised-button color="primary"
          [disabled]="!isChanged() || isDisabled()"
          [mat-dialog-close]="bizCtxValue" >
    <mat-icon>{{ (actionName === 'Add') ? 'add' : 'save' }}</mat-icon>
    {{ (actionName === 'Add') ? 'Add' : 'Save' }}
  </button>
</mat-dialog-actions>
