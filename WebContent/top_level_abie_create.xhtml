<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">

	<ui:define name="side_menu">
		<h:form>
			<p:growl id="messages" showDetail="false" />

			<p:menu>
				<p:submenu style="width: 180px !important;" label="Context Category">
					<p:menuitem value="List" url="context_category_list.xhtml" icon="ui-icon-create" />
					<p:menuitem value="Create" url="context_category_create.xhtml" icon="ui-icon-create" />
					<p:menuitem value="Search" url="context_category_search.xhtml" icon="ui-icon-search" />
				</p:submenu>
			</p:menu>
		</h:form>
	</ui:define>


	<ui:define name="content">
	<h:form id="form">
                 
    <p:growl id="growl" sticky="true" showDetail="true"/>
 
    <p:wizard flowListener="#{topLevelABIEHandler.onFlowProcess}">
        <p:tab id="select_tl_acc" title="Select top-level Concept">
			<p:growl id="messages1" />
			<p:panel header="Search Contents">
				<p:messages autoUpdate="true" />

				<h:panelGrid id="grid" columns="5" cellpadding="5">
					<h:outputLabel for="propertyTerm" value="ASCCP Property Term:" style="font-weight:bold" />
					<p:autoComplete id="propertyTerm" value="#{topLevelABIEHandler.propertyTerm}" completeMethod="#{topLevelABIEHandler.completeInput}" />
					<p:commandButton value="Search" ajax="true" actionListener="#{topLevelABIEHandler.search}" update="tbl" icon="ui-icon-search" />
				</h:panelGrid>
			</p:panel>
			<p:panel header="Top-level Concept List">
				<p:dataTable id="tbl" var="aSCCPVO" value="#{topLevelABIEHandler.asccpVOs}"
					paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} "
					paginator="true" rows="20" style="width:900px; margin-bottom:20px" selection="#{topLevelABIEHandler.selected}" rowKey="#{aSCCPVO.ASCCPID}" selectionMode="single">
					<p:ajax event="rowSelect" listener="#{topLevelABIEHandler.onRowSelect}" />
        			<p:ajax event="rowUnselect" listener="#{topLevelABIEHandler.onRowUnselect}" />
					<p:column style="width:350px">
						<f:facet name="header">
							<h:outputText value="ASCCP Property Term" />
						</f:facet>
						<h:outputText value="#{aSCCPVO.propertyTerm}" />
					</p:column>
	
					<p:column style="width:300px">
						<f:facet name="header">
							<h:outputText value="Module" />
						</f:facet>
						<h:outputText value="#{aSCCPVO.module}" />
					</p:column>
					
					<p:column style="width:180px">
						<f:facet name="header">
							<h:outputText value="Last Updated Time" />
						</f:facet>
						<h:outputText value="#{aSCCPVO.lastUpdateTimestamp}" />
					</p:column>
				
				</p:dataTable>
			</p:panel>
        </p:tab>
 
        <p:tab id="select_bc" title="Select Business Context">
       		<p:panel header="Selected Top-level Concept">
                <p:dataTable var="aSCCPVO" value="#{topLevelABIEHandler.selected}" style="width:900px; margin-bottom:20px">
				    <p:column headerText="ASCCP Property Term">
				        <h:outputText value="#{aSCCPVO.propertyTerm}" />
				    </p:column>
				 
				    <p:column headerText="Module">
				        <h:outputText value="#{aSCCPVO.module}" />
				    </p:column>
				 
				    <p:column headerText="Last Updated Time">
				        <h:outputText value="#{aSCCPVO.lastUpdateTimestamp}" />
				    </p:column>
				</p:dataTable>
            </p:panel>
            <p:panel header="Select Existing Business Context" collapsed="true" toggleable="true" toggleSpeed="500">
            	<h:panelGrid columns="2" columnClasses="label, value" cellpadding="10" cellspacing="2">
            		<h:outputLabel value="Seletced: " style="font-weight:bold; color:red;" />
            		<h:outputLabel id="selectedBC" value="#{topLevelABIEHandler.bCSelected.name}" style="font-weight:bold; color:blue;" />
            	</h:panelGrid>
                <h:panelGrid columns="1" columnClasses="label, value">
					<p:dataTable id="tbl1" var="BusinessContextVO" value="#{businessContextHandler.businessContexts}"
						paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} "
						paginator="true" rows="10" style="width:400px; margin-bottom:20px" selection="#{businessContextHandler.bcDetail}" rowKey="#{BusinessContextVO.businessContextID}">
				        <p:column selectionMode="single" style="width:16px;text-align:center"/>
						<p:column style="width:200px">
							<f:facet name="header">
								<h:outputText value="Name" />
							</f:facet>
							<h:outputText value="#{BusinessContextVO.name}" />
						</p:column>
						
					</p:dataTable>
					<p:commandButton process="tbl1" update=":form:bcDetailid" icon="ui-icon-search" value="Detail" oncomplete="PF('bcDetail').show()" />
					<p:dialog header="Business Context Detail" widgetVar="bcDetail" showEffect="clip" hideEffect="clip" closable="true" resizable="true" draggable="true" width="800" height="300">
		        		<p:outputPanel id="bcDetailid">
							<h:panelGrid id="grid1" cellpadding="5">
								<p:row>
			        				<p:column style="width:200px"> 
										<h:outputLabel value="Name: " style="font-weight:bold" />
									</p:column> 
									<p:column style="width:600px"> 
										<h:outputText value="#{businessContextHandler.bcDetail.name}" />
									</p:column> 
								</p:row>
								<p:row>
									<p:column> 
										<h:outputLabel for="desc" value="Business Context Value "
											style="font-weight:bold" />
									</p:column>
									<p:column>
									</p:column> 
								</p:row>		
								<p:row>
									<p:column colspan="2"> 					
										<p:dataTable id="tbl21" var="businessContextValues" value="#{businessContextHandler.bcDetails}"
											style="width:600px; margin-bottom:20px">
											
											<p:column style="width:200px">
												<f:facet name="header">
													<h:outputText value="Context Category" />
												</f:facet>
												<h:outputText value="#{businessContextValues.ccVO.name}" />
											</p:column>
							
											<p:column style="width:200px">
												<f:facet name="header">
													<h:outputText value="Context Scheme Name" />
												</f:facet>
												<h:outputText value="#{businessContextValues.csVO.schemeName}" />
											</p:column>
							
											<p:column style="width:200px">
												<f:facet name="header">
													<h:outputText value="Context Scheme Value" />
												</f:facet>
												<h:outputText value="#{businessContextValues.csvVO.value}" />
											</p:column>
										</p:dataTable>
									</p:column>
								</p:row>
								<p:row>
									<p:commandButton value="Select" icon="ui-icon-check"
										style="margin-right:10px" actionListener="#{topLevelABIEHandler.onBCSelect(businessContextHandler.bcDetail)}" oncomplete="PF('bcDetail').hide()" update=":form:selectedBC :form:selectedBC1" />
									<p:commandButton value="Close" icon="ui-icon-check"
										style="margin-right:10px" oncomplete="PF('bcDetail').hide()" />
								</p:row>
							</h:panelGrid>
						</p:outputPanel>
				    </p:dialog>
                </h:panelGrid>
            </p:panel>
            <p:panel header="Create New Business Context" collapsed="true" toggleable="true" toggleSpeed="500">
                <h:panelGrid columns="2" columnClasses="label, value" cellpadding="10" cellspacing="2">
            		<h:outputLabel value="Seletced: " style="font-weight:bold; color:red;" />
            		<h:outputLabel id="selectedBC1" value="#{topLevelABIEHandler.bCSelected.name}" style="font-weight:bold; color:blue;" />
            	</h:panelGrid>

				<h:panelGrid id="grid2" cellpadding="5">
					<p:row>
        				<p:column style="width:200px"> 
							<h:outputLabel value="Name: " style="font-weight:bold" />
						</p:column> 
						<p:column style="width:600px"> 
							<p:inputText id="name" value="#{businessContextHandler.name}"
								label="Name" />
						</p:column> 
					</p:row>
					<p:row>
						<p:column> 
							<h:outputLabel for="desc" value="Business Context Value "
								style="font-weight:bold" />
						</p:column>
						<p:column>
							<p:commandButton value="Add" icon="ui-icon-extlink" actionListener="#{businessContextHandler.chooseCV}">
						        <p:ajax event="dialogReturn" listener="#{businessContextHandler.onCCChosen}" update=":form:tbl2" />
						    </p:commandButton>
						</p:column> 
					</p:row>		
					<p:row>
						<p:column colspan="2"> 					
							<p:dataTable id="tbl2" var="businessContextValues" value="#{businessContextHandler.bcValues}"
								style="width:600px; margin-bottom:20px">
								
								<p:column style="width:200px">
									<f:facet name="header">
										<h:outputText value="Context Category" />
									</f:facet>
									<h:outputText value="#{businessContextValues.ccVO.name}" />
								</p:column>
				
								<p:column style="width:200px">
									<f:facet name="header">
										<h:outputText value="Context Scheme Name" />
									</f:facet>
									<h:outputText value="#{businessContextValues.csVO.schemeName}" />
								</p:column>
				
								<p:column style="width:200px">
									<f:facet name="header">
										<h:outputText value="Context Scheme Value" />
									</f:facet>
									<h:outputText value="#{businessContextValues.csValues}" />
								</p:column>
							</p:dataTable>
						</p:column>
					</p:row>
					<p:row>
        				<p:column>
							<p:commandButton value="Create" update=":form:selectedBC :form:selectedBC1" icon="ui-icon-check"
							validateClient="true" style="margin-right:10px" actionListener="#{topLevelABIEHandler.onBCSelect(businessContextHandler)}" />
						</p:column>
					</p:row>
				</h:panelGrid>
            </p:panel>
            
<!--             <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />
 
			<p:dialog widgetVar="statusDialog" modal="false" draggable="false" closable="false" resizable="false" showHeader="false">
			    <p:graphicImage name="images/ajaxloadingbar.gif" />
			</p:dialog> -->
            
        </p:tab>
 
        <p:tab id="create_u_bie" title="Create uncommitted BIE">
        	<p:growl id="messages2" />
        	<p:panel header="Create uncommitted BIE">
				<p:messages autoUpdate="true" />
				
				<h:panelGrid style="width:100%;">
				
        		<p:layout style="min-width:800px; min-height:600px;">
				    <p:layoutUnit position="west" resizable="true" size="400" minSize="400" maxSize="400">
				        <p:treeTable id="treeTable" value="#{topLevelABIEHandler.root}" var="aBIEView" selection="#{topLevelABIEHandler.selectedTreeNode}" selectionMode="single" dynamic="true"> 
				        	<p:ajax event="select" listener="#{topLevelABIEHandler.showDetails()}" update=":form:details" />
						    <f:facet name="header">
					            #{topLevelABIEHandler.selected.module}
					        </f:facet>
					        <p:column headerText="BIEs">
					            <h:outputText value="#{aBIEView.name}" style="color:#{aBIEView.color};"/>
					        </p:column>
					    </p:treeTable>
				    </p:layoutUnit>
				 
				    <p:layoutUnit position="center">
				    	<p:panel id="details" header="View and Edit BIE" collapsed="false" toggleable="false" toggleSpeed="500">
				    		<p:selectOneRadio id="customRadio" value="#{topLevelABIEHandler.aABIEView.restrictionType}" layout="custom">
					            <f:selectItem itemLabel="Primitive" itemValue="Primitive" />
					            <f:selectItem itemLabel="Code" itemValue="Code" />
					        </p:selectOneRadio>
					        
					        <ui:fragment rendered="#{topLevelABIEHandler.aABIEView.type eq 'ABIE'}">
								<h:panelGrid columns="2" cellpadding="5">
						    		<h:outputLabel rows="10" value="Name: " style="font-weight:bold;" />
									<h:outputLabel rows="10" value="#{topLevelABIEHandler.aABIEView.name}" style="font-weight:bold; color:blue" />
								</h:panelGrid>
								<p:separator />
								<h:panelGrid columns="1" cellpadding="5">
									<h:outputLabel rows="10" value="Top-level BIE Info: " style="font-weight:bold; color:red" />
								</h:panelGrid>
								<h:panelGrid columns="4" cellpadding="5">
									<h:outputLabel rows="10" value="Biz Term" style="font-weight:bold" />
									<p:inputText value="#{topLevelABIEHandler.aABIEView.abieVO.businessTerm}" />
									
									<h:outputLabel rows="10" value="Remark:" style="font-weight:bold" /> 
									<p:inputText value="#{topLevelABIEHandler.aABIEView.abieVO.remark}" />
									
									<h:outputLabel rows="10" value="Definition:" style="font-weight:bold" />
									<p:inputTextarea rows="2" cols="30" autoResize="false" value="#{topLevelABIEHandler.aABIEView.abieVO.definition}">
									</p:inputTextarea>
								</h:panelGrid>
								<p:separator />
							</ui:fragment>
					        
							<ui:fragment rendered="#{topLevelABIEHandler.aABIEView.type eq 'ASBIE'}">
								<h:panelGrid columns="2" cellpadding="5">
						    		<h:outputLabel rows="10" value="Name: " style="font-weight:bold;" />
									<h:outputLabel rows="10" value="#{topLevelABIEHandler.aABIEView.name}" style="font-weight:bold; color:blue" />
								</h:panelGrid>
								<p:separator />
								<h:panelGrid columns="1" cellpadding="5">
									<h:outputLabel rows="10" value="ASBIE: " style="font-weight:bold; color:red" />
								</h:panelGrid>
								<h:panelGrid columns="4" cellpadding="5">
									<h:outputLabel rows="10" value="Min:" style="font-weight:bold" />
									<p:inputText value="#{topLevelABIEHandler.aABIEView.asbieVO.cardinalityMin}" />
									
									<h:outputLabel rows="10" value="Max:" style="font-weight:bold" /> 
									<p:inputText value="#{topLevelABIEHandler.aABIEView.asbieVO.cardinalityMax}" />
									
									<h:outputLabel rows="10" value="Remark:" style="font-weight:bold" />
									<p:inputText style="width: 250px" value="#{topLevelABIEHandler.aABIEView.asbieVO.remark}" />
									
									<h:outputLabel rows="10" value="Nillable:" style="font-weight:bold" />
									<p:inputText value="#{topLevelABIEHandler.aABIEView.asbieVO.nillable}" />
									
									<h:outputLabel rows="10" value="Definition:" style="font-weight:bold" />
									<p:inputTextarea rows="2" cols="30" autoResize="false" value="#{topLevelABIEHandler.aABIEView.asbieVO.definition}">
									</p:inputTextarea>
								</h:panelGrid>
								<p:separator />
								<h:panelGrid columns="1" cellpadding="5">
									<h:outputLabel rows="10" value="ASBIEP" style="font-weight:bold; color:red" />
								</h:panelGrid>
								<h:panelGrid columns="4" cellpadding="5">
									<h:outputLabel rows="10" value="Remark:" style="font-weight:bold" />
									<p:inputText style="width: 250px" value="#{topLevelABIEHandler.aABIEView.asbiepVO.remark}" />
									
									<h:outputLabel rows="10" value="Biz Term:" style="font-weight:bold" />
									<p:inputText style="width: 250px" value="#{topLevelABIEHandler.aABIEView.asbiepVO.businessTerm}" />
									
									<h:outputLabel rows="10" value="Definition:" style="font-weight:bold" />
									<p:inputTextarea rows="2" cols="30" autoResize="false" value="#{topLevelABIEHandler.aABIEView.asbiepVO.definition}">
									</p:inputTextarea>
								</h:panelGrid>
								<p:separator />
								<h:panelGrid columns="1" cellpadding="5">
									<h:outputLabel rows="10" value="Target ABIE" style="font-weight:bold; color:red" />
								</h:panelGrid>
								<h:panelGrid columns="2" cellpadding="5">
									<h:outputLabel rows="10" value="Biz Term:" style="font-weight:bold" />
									<p:inputText value="#{topLevelABIEHandler.aABIEView.abieVO.businessTerm}" />
									
									<h:outputLabel rows="10" value="Remark:" style="font-weight:bold" />
									<p:inputText style="width: 250px" value="#{topLevelABIEHandler.aABIEView.abieVO.remark}" />
									
						            <h:outputLabel rows="10" value="Definition:" style="font-weight:bold" />
									<p:inputTextarea rows="2" cols="40" autoResize="false" value="#{topLevelABIEHandler.aABIEView.abieVO.definition}">
									</p:inputTextarea>
									
								</h:panelGrid>
								<p:separator />
							</ui:fragment>
						
						    <ui:fragment rendered="#{topLevelABIEHandler.aABIEView.type eq 'BBIE'}">  
						    	<h:panelGrid columns="2" cellpadding="5">
						    		<h:outputLabel rows="10" value="Name: " style="font-weight:bold;" />
									<h:outputLabel rows="10" value="#{topLevelABIEHandler.aABIEView.name}" style="font-weight:bold; color:green" />
								</h:panelGrid>
								<p:separator />
						    	<h:panelGrid columns="1" cellpadding="5">
									<h:outputLabel rows="10" value="BBIE" style="font-weight:bold; color:red" />
								</h:panelGrid>
								<h:panelGrid columns="4" cellpadding="5">
									<h:outputLabel rows="10" value="Min:" style="font-weight:bold" />
									<p:inputText value="#{topLevelABIEHandler.aABIEView.bbieVO.cardinalityMin}" />
									
									<h:outputLabel rows="10" value="Max:" style="font-weight:bold" />
									<p:inputText value="#{topLevelABIEHandler.aABIEView.bbieVO.cardinalityMax}" />
									
									<h:outputLabel rows="10" value="Nillable:" style="font-weight:bold" />
									<p:inputText value="#{topLevelABIEHandler.aABIEView.bbieVO.nillable}" />
									
									<h:outputLabel rows="10" value="Remark:" style="font-weight:bold" />
									<p:inputText value="#{topLevelABIEHandler.aABIEView.bbieVO.remark}" />
									
									<h:outputLabel rows="10" value="Fixed value:" style="font-weight:bold" />
									<p:inputText value="#{topLevelABIEHandler.aABIEView.bbieVO.fixedValue}" />
									
									<h:outputLabel rows="10" value="Definition:" style="font-weight:bold" />
									<p:inputTextarea rows="2" cols="30" autoResize="false" value="#{topLevelABIEHandler.aABIEView.bbieVO.definition}">
									</p:inputTextarea>
								</h:panelGrid>
								<p:separator />
								<h:panelGrid columns="1" cellpadding="5">
									<h:outputLabel rows="10" value="BBIEP" style="font-weight:bold; color:red" />
								</h:panelGrid>
								<h:panelGrid columns="4" cellpadding="5">
									<h:outputLabel rows="10" value="Remark:" style="font-weight:bold" />
									<p:inputText style="width: 250px" value="#{topLevelABIEHandler.aABIEView.bbiepVO.remark}" /> 
									
									<h:outputLabel rows="10" value="Business Term:" style="font-weight:bold" />
									<p:inputText value="#{topLevelABIEHandler.aABIEView.bbiepVO.businessTerm}" />
									
									<h:outputLabel rows="10" value="Definition:" style="font-weight:bold" />
									<p:inputTextarea rows="2" cols="30" autoResize="false" value="#{topLevelABIEHandler.aABIEView.bbiepVO.definition}">
									</p:inputTextarea>
								</h:panelGrid>
								<p:separator />
								<h:panelGrid columns="1" cellpadding="5">
									<h:outputLabel rows="10" value="BDT Primitive Restriction" style="font-weight:bold; color:red" />
								</h:panelGrid>
								<h:panelGrid columns="2" cellpadding="5">
									<h:outputLabel rows="10" value="BDT Name:" style="font-weight:bold" />
									<h:outputLabel rows="10" value="#{topLevelABIEHandler.aABIEView.bdtName}" style="font-weight:bold; color: blue;" />
								</h:panelGrid>
								<h:panelGrid columns="4" cellpadding="5">
									<p:radioButton id="opt1" for="customRadio" itemIndex="0" />
									<h:outputLabel rows="10" value="Primitive:" style="font-weight:bold" />
									<p:selectOneMenu value="#{topLevelABIEHandler.aABIEView.bdtPrimitiveRestrictionId}">
										<p:ajax listener="#{topLevelABIEHandler.aABIEView.onBDTPrimitiveChange}" />
									    <f:selectItems value="#{topLevelABIEHandler.aABIEView.bdtPrimitiveRestrictions}" />
									</p:selectOneMenu>
									<h:outputLabel rows="10" value="(#{topLevelABIEHandler.aABIEView.primitiveType})" style="font-weight:bold; color: green" />
								</h:panelGrid>
								<h:panelGrid columns="5" cellpadding="5">
										<p:radioButton id="opt2" for="customRadio" itemIndex="1" />
										<h:outputLabel rows="10" value="Code List: " style="font-weight:bold" />
										<h:outputLabel id="codeSelected" rows="10" value="#{topLevelABIEHandler.codeListVO.name}  " style="font-weight:bold; color: blue;" />
									    
									    <p:commandButton process="tbl" update=":form:codeListId" value="Code List" icon="ui-icon-extlink" oncomplete="PF('codeList').show()" disabled="#{(topLevelABIEHandler.aABIEView.primitiveType == 'XSD Builtin Type') ? 'false' : 'true'}" >
									    </p:commandButton>
									    
									    <p:commandButton process="tbl" update=":form:derivedCodeListId" value="Derived Code List" icon="ui-icon-extlink" oncomplete="PF('derivedCodeList').show()" disabled="#{(topLevelABIEHandler.aABIEView.primitiveType == 'XSD Builtin Type') ? 'true' : 'false'}" >
									    </p:commandButton>
								</h:panelGrid>
								<p:separator />
						    </ui:fragment>
						    
						    <ui:fragment rendered="#{topLevelABIEHandler.aABIEView.type eq 'BBIESC'}">   
						    	<h:panelGrid columns="2" cellpadding="5">
						    		<h:outputLabel rows="10" value="Name: " style="font-weight:bold;" />
									<h:outputLabel rows="10" value="#{topLevelABIEHandler.aABIEView.name}" style="font-weight:bold; color:orange" />
								</h:panelGrid>
								<p:separator />
						    	<h:panelGrid columns="1" cellpadding="5">
									<h:outputLabel rows="10" value="BBIE SC" style="font-weight:bold; color:red" />
								</h:panelGrid>
						    	<h:panelGrid id="bbiesc" columns="4" cellpadding="5">
									<h:outputLabel rows="10" value="Max:" style="font-weight:bold" />
									<p:inputText value="#{topLevelABIEHandler.aABIEView.bbiescVO.maxCardinality}" />
									
						    		<h:outputLabel rows="10" value="Fixed Value:" style="font-weight:bold" />
									<p:inputText value="#{topLevelABIEHandler.aABIEView.bbiescVO.fixedValue}" />
									
									<h:outputLabel rows="10" value="Default:" style="font-weight:bold" />
									<p:inputText value="#{topLevelABIEHandler.aABIEView.bbiescVO.defaultText}" />
									
									<h:outputLabel rows="10" value="Business Term:" style="font-weight:bold" />
									<p:inputText value="#{topLevelABIEHandler.aABIEView.bbiescVO.businessTerm}" />
									
									<h:outputLabel rows="10" value="Remark:" style="font-weight:bold" />
									<p:inputText value="#{topLevelABIEHandler.aABIEView.bbiescVO.remark}" />
									
									<h:outputLabel rows="10" value="Definition:" style="font-weight:bold" />
									<p:inputTextarea rows="2" cols="30" autoResize="false" value="#{topLevelABIEHandler.aABIEView.bbiescVO.definition}">
									</p:inputTextarea>
								</h:panelGrid>
								<p:separator />
						    </ui:fragment>
						    <p:commandButton value="Save" icon="ui-icon-extlink" actionListener="#{topLevelABIEHandler.saveChanges}" />
							
			            </p:panel>
				    </p:layoutUnit>
				</p:layout>
				
				
				</h:panelGrid>
				<h:panelGrid>
			    	<p:commandButton value="Submit" icon="ui-icon-check" action="top_level_abie_list.xhtml?faces-redirect=true" />
			    </h:panelGrid>
			</p:panel>
            <p:panel header="Number of Uncommitted BIEs">
                <p:messages id="chartMsg" />
                <h:panelGrid columns="2" columnClasses="label, value">
					<p:chart id="chart" type="bar" model="#{topLevelABIEHandler.barModel}" style="width:600px;height:400px">
			            <p:ajax event="itemSelect" listener="#{topLevelABIEHandler.itemSelect}" update=":form:chartMsg" />
			        </p:chart>
                </h:panelGrid>
            </p:panel>
            
            <p:dialog header="Derived Code List" widgetVar="derivedCodeList" showEffect="clip" hideEffect="clip" closable="true" scrollable="true" resizable="true" draggable="true" width="800" height="700">
        		<p:outputPanel id="derivedCodeListId">
        			<p:messages autoUpdate="true" />
        			<h:panelGrid id="grid6" cellpadding="5">
						<p:row>
	        				<p:column style="width:800px"> 
								<h:outputLabel value="Derived Code List" style="font-weight:bold; color:red" />
							</p:column> 
						</p:row>
					</h:panelGrid>
					<p:separator />

		            <p:dataTable id="tbl_01" var="cVO" paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} "
						paginator="true" rows="10" style="width:550px; margin-bottom:20px"
		            	value="#{topLevelABIEHandler.codeLists}" selection="#{topLevelABIEHandler.codeListVO}" rowKey="#{cVO.codeListID}" selectionMode="single">
						<p:ajax event="rowSelect" listener="#{topLevelABIEHandler.onCodeListRowSelect}" />
	        			<p:ajax event="rowUnselect" listener="#{topLevelABIEHandler.onCodeListRowUnselect}" />
		                <p:column style="width:400px">
							<f:facet name="header">
								<h:outputText value="Name" />
							</f:facet>
							<h:outputText value="#{cVO.name}" />
						</p:column>
		
						<p:column style="width:100px">
							<f:facet name="header">
								<h:outputText value="Agency Id" />
							</f:facet>
							<h:outputText value="#{cVO.agencyID}" />
						</p:column>
		            </p:dataTable>
		            <p:commandButton ajax="true" update=":form:codeSelected" icon="ui-icon-search" value="Select" oncomplete="PF('derivedCodeList').hide()" />
				</p:outputPanel>
		    </p:dialog>
		    
		    <p:dialog header="Code List" widgetVar="codeList" showEffect="clip" hideEffect="clip" closable="true" scrollable="true" resizable="true" draggable="true" width="800" height="700">
        		<p:outputPanel id="codeListId">
					<p:messages autoUpdate="true" />
	
					<h:panelGrid id="grid02" columns="5" cellpadding="5">
						<h:outputLabel for="ccName" value="Code List:" style="font-weight:bold" />
						<p:autoComplete id="ccName" value="#{topLevelABIEHandler.codeListName}" completeMethod="#{topLevelABIEHandler.completeCodeListInput}" />
						<p:commandButton value="Search" ajax="true" actionListener="#{topLevelABIEHandler.searchCodeList}" update="tbl02" icon="ui-icon-search" />
					</h:panelGrid>
		            <p:dataTable id="tbl02" var="cVO" paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} "
						paginator="true" rows="10" style="width:550px; margin-bottom:20px"
		            	value="#{topLevelABIEHandler.codeLists2}" selection="#{topLevelABIEHandler.codeListVO}" rowKey="#{cVO.codeListID}" selectionMode="single">
						<p:ajax event="rowSelect" listener="#{topLevelABIEHandler.onCodeListRowSelect}" />
	        			<p:ajax event="rowUnselect" listener="#{topLevelABIEHandler.onCodeListRowUnselect}" />
		                <p:column style="width:400px">
							<f:facet name="header">
								<h:outputText value="Name" />
							</f:facet>
							<h:outputText value="#{cVO.name}" />
						</p:column>
		
						<p:column style="width:100px">
							<f:facet name="header">
								<h:outputText value="Agency Id" />
							</f:facet>
							<h:outputText value="#{cVO.agencyID}" />
						</p:column>
		            </p:dataTable>
		            <p:commandButton ajax="true" update=":form:codeSelected" icon="ui-icon-search" value="Select" oncomplete="PF('codeList').hide()" />
		    	</p:outputPanel>
		    </p:dialog>
        </p:tab>
    </p:wizard>
 
</h:form>
	</ui:define>
</ui:composition>
